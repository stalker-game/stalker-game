(function(){"use strict";var e={6442:function(e,t,l){var a=l(5130),n=l(6768),r=l(144),i=l(3367);class o{async playTrack(e){this.stopTrack(e);try{return e.element.load(),await e.element.play(),!0}catch(t){return console.log(t),!1}}stopTrack(e){e.element.pause(),e.element.currentTime=0}async playMenuTrack(){await this.playNextTrack(this.getStore().audios.menuList)}async playGameTrack(){await this.playNextTrack(this.getStore().audios.gameList)}async playNextTrack(e){this.stopAll([this.getStore().audios.menuList,this.getStore().audios.gameList]);let t=e.currentIndex+1;t>=e.items.length&&(t=0),e.items[t].element.loop=!0,await this.playTrack(e.items[t])&&(e.currentIndex=t)}stopAll(e){for(const t in e)-1!==e[t].currentIndex&&this.stopTrack(e[t].items[e[t].currentIndex])}async playStart(){await this.playTrack(this.getStore().audios.start)}async playHit(){await this.playTrack(this.getStore().audios.hit)}async playMiss(){await this.playTrack(this.getStore().audios.miss)}getStore(){return c()}}var s=l(1114);class u{constructor(e){(0,s.A)(this,"items",void 0),(0,s.A)(this,"indexes",void 0),this.items=e,this.indexes=[...Array(e.length).keys()],this.shuffle()}getRandom(){const e=this.indexes.pop();return void 0===e?(this.indexes=[...Array(this.items.length).keys()],this.shuffle(),this.getRandom()):this.items[e]}shuffle(){let e=this.indexes.length;while(0!==e){const t=Math.floor(Math.random()*e);e--,[this.indexes[e],this.indexes[t]]=[this.indexes[t],this.indexes[e]]}}}const c=(0,i.nY)("main",{state:()=>({lastRating:0,topRating:null===localStorage.getItem("rating")?0:Number(localStorage.getItem("rating")),trackPlayer:new o,state:null,colors:new u(["#000000","#0033CC","#0066FF","#0099FF","#00CCFF","#00FFFF","#33CCFF","#66CCFF","#99CCFF","#CCFFFF","#FF0000","#FF3300","#FF6600","#FF9900","#FFCC00","#FFFF00","#CCFF00","#99FF00","#66FF00","#33FF00","#00FF00","#00FF33","#00FF66","#00FF99","#00FFCC","#00FFCC","#00CCCC","#33CC00","#66CC00","#99CC00","#CCFF33","#CCFF66","#CCFF99","#CCFFCC","#CCFFFF","#FF00FF","#FF33FF","#FF66FF","#FF99FF","#FFCCFF","#9900FF","#9933FF","#9966FF","#9999FF","#99CCFF","#66CCFF","#33CCFF","#00CCFF","#00FFFF","#00CCCC","#FF3399","#FF66CC","#FF99FF","#FFCCFF","#CC99CC","#CC66CC","#CC33CC","#CC00CC","#9900CC","#6600CC","#3300CC","#0000CC","#0033CC","#0066CC","#0099CC","#00CC99","#00CC66","#00CC33","#00CC00","#00FF00","#3300FF","#3333CC","#3366CC","#3399CC","#33CC99","#33FF66","#33FF33","#33FF00","#66FF00","#99FF00","#CCFF00","#FF3300","#FF6600","#FF9900","#FFCC00","#FFFF00","#FFCC33","#FFCC66","#FFCC99","#FFFFCC","#FF0066","#FF3399","#FF6699","#FF99CC","#FFCCFF","#FF00CC","#FF33CC","#FF66CC","#FF99CC","#FFCC99","#FF9933","#FF9966","#FF99FF","#CC99FF","#9966CC","#6633CC","#3300CC","#0000FF","#0033FF","#0066FF","#0099FF","#00CCFF","#33CCFF","#66CCFF","#99CCFF","#CCFFFF","#FFFFFF","#CCCCCC","#999999","#666666","#333333"]),stickers:new u([{url:"/stickers/28.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/27.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/26.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/25.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/24.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/23.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/22.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/21.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/20.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/19.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/18.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/17.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/16.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/15.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/14.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/13.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/12.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/11.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/10.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/9.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/8.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/7.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/6.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/5.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/4.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/3.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/2.jpeg",blob:null,element:new Image},{url:"/stalker-game/stickers/1.jpeg",blob:null,element:new Image}]),audios:{start:{url:"/stalker-game/audios/start.mp3",blob:null,element:new Audio},menuList:{items:[{url:"/stalker-game/audios/menu-1.mp3",blob:null,element:new Audio}],currentIndex:-1},gameList:{items:[{url:"/stalker-game/audios/game-1.mp3",blob:null,element:new Audio},{url:"/stalker-game/audios/game-2.mp3",blob:null,element:new Audio},{url:"/stalker-game/audios/game-3.mp3",blob:null,element:new Audio}],currentIndex:-1},hit:{url:"/stalker-game/audios/hit.mp3",blob:null,element:new Audio},miss:{url:"/stalker-game/audios/miss.mp3",blob:null,element:new Audio}}})});l(4603),l(7566),l(8721);var m=l(4232);const F={style:{height:"100vh",display:"flex","background-color":"#000000","flex-direction":"column"}},g={style:{height:"100px",display:"flex",position:"absolute",width:"100%",top:"0",left:"0"}},p={style:{"margin-left":"auto",display:"flex"}},d={style:{width:"130px",display:"flex","margin-right":"20px"}},f=(0,n.Lk)("div",{style:{"font-size":"32px","margin-top":"auto","margin-bottom":"auto"}}," ❤️ ",-1),C={style:{"margin-left":"10px",color:"#ff3399","font-family":"'Saira Stencil One'","font-size":"48px","margin-top":"auto","margin-bottom":"auto"}},h={style:{margin:"auto",display:"flex","flex-direction":"column"}},k={style:{height:"20px",display:"flex"}},b={style:{height:"80px"}},v=(0,n.Lk)("div",{style:{margin:"auto","font-family":"'Rubik Bubbles'","font-size":"32px",color:"white"}}," ПОГНАЛИ! ",-1),y=[v];var x=(0,n.pM)({__name:"LoadPage",setup(e){const t=c(),l=(0,r.KR)("#FFF"),a=(0,r.KR)(!0);let i=null;function o(){t.trackPlayer.playGameTrack(),t.trackPlayer.playStart(),t.state="start"}async function s(){for(const e in t.audios.menuList.items)await u(t.audios.menuList.items[e]);for(const e in t.audios.gameList.items)await u(t.audios.gameList.items[e]);await u(t.audios.hit),await u(t.audios.miss),await u(t.audios.start);for(const e in t.stickers.items)await u(t.stickers.items[e])}async function u(e){if(null!==e.blob)return!1;const t=await(await fetch(e.url)).blob();return e.blob=t,e.element.src=URL.createObjectURL(t),!0}return(0,n.sV)((async function(){i=setInterval((function(){l.value=t.colors.getRandom()}),300),await s(),await t.trackPlayer.playMenuTrack(),a.value=!1})),(0,n.hi)((function(){null!==i&&clearInterval(i)})),(e,i)=>((0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("div",g,[(0,n.Lk)("div",p,[(0,n.Lk)("div",d,[f,(0,n.Lk)("div",C,(0,m.v_)((0,r.R1)(t).topRating),1)])])]),(0,n.Lk)("div",h,[(0,n.Lk)("div",{style:(0,m.Tr)([{"margin-left":"auto","margin-right":"auto","font-family":"'Creepster'","font-size":"100px",transition:"text-shadow 0.3s ease"},{textShadow:"0px 0px 10px "+l.value}])}," STALKER ",4),(0,n.Lk)("div",k,[a.value?((0,n.uX)(),(0,n.CE)("div",{key:0,style:(0,m.Tr)([{"margin-left":"auto","margin-right":"auto","font-family":"'Rubik Wet Paint'",animation:"stalker-shake 0.5s","animation-iteration-count":"infinite",transition:"text-shadow 0.3s ease"},{textShadow:"0px 0px 10px "+l.value}])}," 'Погодь 5 сек...' ",4)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",b,[a.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"page-load-start-button",onClick:i[0]||(i[0]=e=>o())},y))])])]))}});const w=x;var I=w;const j={style:{height:"100vh",display:"flex","background-color":"#000000"}},L={style:{margin:"auto",display:"flex","flex-direction":"column"}};var R=(0,n.pM)({__name:"StartPage",setup(e){const t=c(),l=(0,r.KR)("#FFF"),a=(0,r.KR)(3);let i=null,o=null;return(0,n.sV)((function(){i=setInterval((function(){l.value=t.colors.getRandom()}),300),o=setInterval((function(){1!==a.value?a.value--:"board"!==t.state&&(t.state="board")}),1e3)})),(0,n.hi)((function(){null!==i&&clearInterval(i),null!==o&&clearInterval(o)})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",j,[(0,n.Lk)("div",L,[(0,n.Lk)("div",{style:(0,m.Tr)([{"margin-left":"auto","margin-right":"auto","font-family":"'Creepster'","font-size":"100px",transition:"text-shadow 0.3s ease"},{textShadow:"0px 0px 10px "+l.value}])},(0,m.v_)(1===a.value?"GO!":a.value),5)])]))}});const S=R;var T=S;l(4114);const _={style:{height:"100vh",display:"flex","background-color":"#000000","flex-direction":"column"}},M={style:{height:"100px",display:"flex",position:"absolute",width:"100%",top:"0",left:"0"}},K={style:{"margin-left":"auto",display:"flex"}},O={style:{width:"100px","margin-right":"20px",display:"flex"}},A=(0,n.Lk)("div",{style:{"font-size":"32px","margin-top":"auto","margin-bottom":"auto"}}," ⏰ ",-1),E={style:{"margin-left":"10px",color:"#ff3399","font-family":"'Saira Stencil One'","font-size":"48px","margin-top":"auto","margin-bottom":"auto"}},P={style:{width:"130px",display:"flex","margin-right":"20px"}},X=(0,n.Lk)("div",{style:{"font-size":"32px","margin-top":"auto","margin-bottom":"auto"}}," ❤️️ ",-1),z={style:{"margin-left":"10px",color:"#ff3399","font-family":"'Saira Stencil One'","font-size":"48px","margin-top":"auto","margin-bottom":"auto"}},Q={class:"board-page-object-container-object"},W={class:"board-page-object-container-object"},D={class:"board-page-object-container-object"},V=14,N=14,G=30;var H=(0,n.pM)({__name:"BoardPage",setup(e){const t=c();let l=0;const i=(0,r.KR)(G),o=(0,r.KR)(0),s=(0,r.KR)(0),u=(0,r.KR)(null),F=(0,r.KR)(null),g=(0,r.KR)(null),p=(0,r.KR)(null),d=(0,r.KR)(null),f=(0,r.KR)(null),C=(0,r.KR)(null);let h=null;const k=[],b=(0,r.KR)("#FFF"),v=(0,r.KR)("#FFF"),y=(0,r.KR)("#FFF");let x=null,w=0,I=w++,j=w++,L=w++;async function R(e){clearTimeout(k[e]),H(e),o.value++,await t.trackPlayer.playHit()}async function S(){o.value-s.value>0&&s.value++,await t.trackPlayer.playMiss()}const T=[];function H(e){let l=$();if(0===l.length){let t=[];1===e?(t.push(j),t.push(L)):2===e?(t.push(I),t.push(L)):3===e&&(t.push(I),t.push(j));for(const e in T)for(const l in T[e]){const a=T[e][l];null===a||t.includes(a)||(T[e][l]=null)}l=$()}if(0===l.length)return alert("Ошибка! Нет мест для перемещения!"),void(t.state="finish");const a=Math.floor(Math.random()*l.length),n=l[a];for(let t=n[0];t<n[0]+V;t++)for(let l=n[1];l<n[1]+N;l++)null===(T[t]??null)&&(T[t]=[]),(1===e||2===e||3===e)&&(T[t][l]=w);let r=null;if(1===e?r=F.value:2===e?r=g.value:3===e&&(r=p.value),null===r)throw new Error;r.style.left=10*n[0]+"px",r.style.top=10*n[1]+"px";let o,s=null;if(1===e?s=d.value:2===e?s=f.value:3===e&&(s=C.value),null===s)throw new Error;s.src=t.stickers.getRandom().element.src,o=i.value>G/4*3?900+Math.floor(450*Math.random()):i.value>G/4*2?800+Math.floor(400*Math.random()):i.value>G/4?700+Math.floor(350*Math.random()):600+Math.floor(300*Math.random()),k[e]=setTimeout((function(){H(e)}),o),1===e?I=w++:2===e?j=w++:3===e&&(L=w++)}function $(){const e=u.value;if(null===e)throw new Error;const t=Math.floor(e.clientWidth/10),l=Math.floor(e.clientHeight/10),a=[];for(let n=0;n<t-N;n++)for(let e=0;e<l-V;e++)null!==(T[n]??null)&&null!==(T[n][e]??null)||null!==(T[n+V]??null)&&null!==(T[n+V][e]??null)||null!==(T[n]??null)&&null!==(T[n][e+N]??null)||null!==(T[n+V]??null)&&null!==(T[n+V][e+N]??null)||a.push([n,e]);return a}return(0,n.sV)((function(){l=Date.now(),H(1),H(2),H(3),h=setInterval((function(){const e=Math.floor((Date.now()-l)/1e3);if(e>=G){const e=o.value-s.value;return t.lastRating=e,e>t.topRating&&(t.topRating=e,localStorage.setItem("rating",e.toString())),void("finish"!==t.state&&(t.state="finish"))}i.value=G-e}),1e3),x=setInterval((function(){b.value=t.colors.getRandom(),v.value=t.colors.getRandom(),y.value=t.colors.getRandom()}),300)})),(0,n.hi)((function(){for(const e in k)clearTimeout(k[e]);null!==h&&clearInterval(h),null!==x&&clearInterval(x)})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",M,[(0,n.Lk)("div",K,[(0,n.Lk)("div",O,[A,(0,n.Lk)("div",E,(0,m.v_)(i.value),1)]),(0,n.Lk)("div",P,[X,(0,n.Lk)("div",z,(0,m.v_)(o.value-s.value),1)])])]),(0,n.Lk)("div",{style:{height:"100%",position:"relative"},ref_key:"board",ref:u,onClick:t[3]||(t[3]=e=>S())},[(0,n.Lk)("div",{ref_key:"object1",ref:F,class:"board-page-object-container",onClick:t[0]||(t[0]=(0,a.D$)((e=>R(1)),["stop"]))},[(0,n.Lk)("div",Q,[(0,n.Lk)("img",{width:"120",height:"120",ref_key:"objectImage1",ref:d,style:(0,m.Tr)([{"border-radius":"60px",transition:"box-shadow 0.3s ease"},{boxShadow:"0px 0px 10px "+b.value}])},null,4)])],512),(0,n.Lk)("div",{ref_key:"object2",ref:g,class:"board-page-object-container",onClick:t[1]||(t[1]=(0,a.D$)((e=>R(2)),["stop"]))},[(0,n.Lk)("div",W,[(0,n.Lk)("img",{width:"120",height:"120",ref_key:"objectImage2",ref:f,style:(0,m.Tr)([{"border-radius":"60px",transition:"box-shadow 0.3s ease"},{boxShadow:"0px 0px 10px "+v.value}])},null,4)])],512),(0,n.Lk)("div",{ref_key:"object3",ref:p,class:"board-page-object-container",onClick:t[2]||(t[2]=(0,a.D$)((e=>R(3)),["stop"]))},[(0,n.Lk)("div",D,[(0,n.Lk)("img",{width:"120",height:"120",ref_key:"objectImage3",ref:C,style:(0,m.Tr)([{"border-radius":"60px",transition:"box-shadow 0.3s ease"},{boxShadow:"0px 0px 10px "+y.value}])},null,4)])],512)],512)]))}});const $=H;var B=$;const U={style:{height:"100vh",display:"flex","background-color":"#000000"}},Y={style:{margin:"auto",display:"flex","flex-direction":"column"}};var q=(0,n.pM)({__name:"FinishPage",setup(e){const t=c(),l=(0,r.KR)("#FFF"),a=(0,r.KR)(3);let i=null,o=null;return(0,n.sV)((function(){i=setInterval((function(){l.value=t.colors.getRandom()}),300),o=setInterval((function(){1!==a.value?a.value--:"load"!==t.state&&(t.state="load")}),1e3)})),(0,n.hi)((function(){null!==i&&clearInterval(i),null!==o&&clearInterval(o)})),(e,a)=>((0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",Y,[(0,n.Lk)("div",{style:(0,m.Tr)([{"margin-left":"auto","margin-right":"auto","font-family":"'Creepster'","font-size":"100px",transition:"text-shadow 0.3s ease"},{textShadow:"0px 0px 10px "+l.value}])}," ❤️ "+(0,m.v_)((0,r.R1)(t).lastRating),5)])]))}});const J=q;var Z=J,ee=(0,n.pM)({__name:"App",setup(e){const t=c();return(0,n.sV)((function(){t.state="load"})),(e,l)=>((0,n.uX)(),(0,n.CE)(n.FK,null,["load"===(0,r.R1)(t).state?((0,n.uX)(),(0,n.Wv)(I,{key:0})):(0,n.Q3)("",!0),"start"===(0,r.R1)(t).state?((0,n.uX)(),(0,n.Wv)(T,{key:1})):(0,n.Q3)("",!0),"board"===(0,r.R1)(t).state?((0,n.uX)(),(0,n.Wv)(B,{key:2})):(0,n.Q3)("",!0),"finish"===(0,r.R1)(t).state?((0,n.uX)(),(0,n.Wv)(Z,{key:3})):(0,n.Q3)("",!0)],64))}});const te=ee;var le=te;const ae=(0,a.Ef)(le);ae.use((0,i.Ey)()),ae.mount("#app")}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,l),r.exports}l.m=e,function(){var e=[];l.O=function(t,a,n,r){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],r=e[c][2];for(var o=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(l.O).every((function(e){return l.O[e](a[s])}))?a.splice(s--,1):(o=!1,r<i&&(i=r));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],o=a[1],s=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)var c=s(l)}for(t&&t(a);u<i.length;u++)r=i[u],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=self["webpackChunkstalker_game"]=self["webpackChunkstalker_game"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[504],(function(){return l(6442)}));a=l.O(a)})();
//# sourceMappingURL=app.d5e78dde.js.map